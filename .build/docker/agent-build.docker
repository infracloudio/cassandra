# Use Alpine Linux as the base image
FROM alpine:latest

# Install required packages
RUN apk --no-cache add python3 xz

ENV JAVA_HOME_11=/usr/bin/jdk_11
ENV PATH="$JAVA_HOME_11/bin:$PATH"

# Set environment variables for JDK 17
ENV JAVA_HOME_17=/usr/bin/jdk_17
ENV PATH="$JAVA_HOME_17/bin:$PATH"

# Create directories for JDK installations
RUN mkdir -p $JAVA_HOME_11 && \
    mkdir -p $JAVA_HOME_17

# Download and install OpenJDK 11
RUN apk --no-cache add openjdk11-jdk && \
    mv /usr/lib/jvm/java-11-openjdk/* $JAVA_HOME_11

# Download and install OpenJDK 17
RUN apk --no-cache add openjdk17-jdk && \
    mv /usr/lib/jvm/java-17-openjdk/* $JAVA_HOME_17

# Verify installations
RUN python3 --version
RUN xz --version

# Set the working directory (optional)
WORKDIR /app